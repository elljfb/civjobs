---
import { getCollection } from 'astro:content';
import Layout from '../../layouts/Layout.astro';
import { SITE_TITLE } from '../../consts';
import BlogCard from '../../components/BlogCard.astro';

const posts = (await getCollection('blog')).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
---
<Layout 
  title={`Blog | ${SITE_TITLE}`} 
  description="Articles and guides about working in the UK Civil Service. Get tips on applications, interviews, pensions, and career progression."
>
  <div class="container">
    <h1 class="text-4xl font-bold text-brand-primary mb-4">Civil Service Careers Blog</h1>
    <p class="text-lg text-text-secondary mb-8">
      Your guide to a successful career in the UK Civil Service. Here you'll find articles and advice on everything from navigating the application process to understanding your pension and excelling in your role.
    </p>
    <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
      {posts.map((post) => (
        <BlogCard post={post} />
      ))}
    </div>
  </div>
</Layout>

<style>
  .grid {
    display: grid;
    gap: 1.5rem;
    grid-template-columns: 1fr;
  }

  @media (min-width: 768px) {
    .grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }
</style>
